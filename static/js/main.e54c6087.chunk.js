(this["webpackJsonpreact-day-experience-app"]=this["webpackJsonpreact-day-experience-app"]||[]).push([[0],{180:function(e,t,a){e.exports=a(354)},185:function(e,t,a){},186:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=(a(185),a(186),a(17)),i=a(21),s=a(61),u=a.n(s);var m=a(31),d=a(163),p=a(5),f=a(395),E=a(391),g=a(393),v=a(394),h=a(392),b=a(155),O=a.n(b),S=a(355),j=Object(p.a)((function(e){return{root:{margin:0,padding:e.spacing(2),color:"red"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(d.a)(e,["children","classes","onClose"]);return r.a.createElement(E.a,Object.assign({disableTypography:!0,className:a.root},l),r.a.createElement(S.a,{variant:"h6"},t),n?r.a.createElement(h.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(O.a,null)):null)})),y=Object(p.a)((function(e){return{root:{padding:e.spacing(2)}}}))(g.a),N=(Object(p.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(v.a),function(e){var t=e.title,a=e.message,n=e.initialState,l=e.redirectUri,o=e.history,i=r.a.useState(n),s=Object(c.a)(i,2),u=s[0],m=s[1],d=function(){m(!1),l&&o.push("/login")};return r.a.createElement("div",null,r.a.createElement(f.a,{onClose:d,"aria-labelledby":"customized-dialog-title",open:u},r.a.createElement(j,{id:"customized-dialog-title",onClose:d},t),r.a.createElement(y,{dividers:!0},r.a.createElement(S.a,{gutterBottom:!0,className:"error"},a))))}),k=a(357),w=a(397),C=a(396),R=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),L=function(e){var t=e.showLoading,a=R(),n=r.a.useState(t),l=Object(c.a)(n,2),o=l[0],i=l[1];return r.a.createElement("div",null,r.a.createElement(k.a,{className:a.backdrop,open:o,onClick:function(){i(!1)}},r.a.createElement(w.a,{color:"inherit"})))},_=a(9),x=Object(_.o)(Object(m.b)((function(e){return{errorHandler:e.errorHandler,registrationSuccess:e.registrationSuccess.registrationSuccess}}),{RegisterUser:function(e,t,a,n){return function(r){console.log(e),r({type:"CLEAR_ERROR"}),u.a.post("https://localhost:5001/Register",{username:e,email:t,password:a}).then((function(e){if(200===e.status){if(n(),e.data.isSuccess)return r({type:"REGISTER_SUCCESS",payload:"Registration Completed Successfully"});r({type:"HTTP_ERROR",payload:e.data.error})}})).catch((function(e){console.log("n/W error",e),n()}))}},ClearError:function(){return{type:"CLEAR_ERROR"}}})((function(e){Object(n.useEffect)((function(){e.ClearError()}),[]);var t=Object(n.useState)(""),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),E=f[0],g=f[1],v=Object(n.useState)(!1),h=Object(c.a)(v,2),b=h[0],O=h[1];return r.a.createElement("div",{className:"Reg-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Sign Up"),r.a.createElement("p",{className:"text-xs-center"},r.a.createElement(i.Link,{to:"/login",className:"link_text"},"Have an account?")),b?r.a.createElement(L,{showLoading:!0}):"",e.errorHandler&&e.errorHandler.showErrorModal?r.a.createElement(N,{title:"Error",message:e.errorHandler.errorMessage,initialState:!0}):"",e.registrationSuccess?r.a.createElement(N,{title:"Success",message:"Welcome to the club \ud83d\ude0a .Please sign in to enjoy the experience ride",initialState:!0,redirectUri:"/login",history:e.history}):"",r.a.createElement("form",{onSubmit:function(t){O(!0),e.RegisterUser(l,E,m,(function(){return O(!1)})),t.preventDefault()}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",type:"text",required:!0,placeholder:"Username",maxLength:50,minLength:4,value:l,onChange:function(e){return o(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",type:"email",required:!0,placeholder:"Email",value:E,onChange:function(e){return g(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-control form-control-lg",type:"password",required:!0,minLength:5,placeholder:"Password",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:!1},"Sign up")))))))}))),U=a(156),I=(a(216),{clientId:"0oaw9f9ohZAWMdx5l4x6",issuer:"https://dev-443037.okta.com/oauth2/default",redirectUri:"http://localhost:3000/callback",scopes:["openid","profile","email"],pkce:!0}),A=function(){return Object(n.useEffect)((function(){var e=I,t=e.pkce,a=e.issuer,n=e.clientId,r=e.redirectUri,l=e.scopes,o=new U({baseUrl:a.split("/oauth2")[0],clientId:n,redirectUri:r,logo:"/react.svg",i18n:{en:{"primaryauth.title":"Sign in to React & Company"}},authParams:{pkce:t,issuer:a,display:"page",responseMode:t?"query":"fragment",scopes:l}});return o.renderEl({el:"#sign-in-widget"},(function(){}),(function(e){throw e})),function(){o.remove()}}),[]),r.a.createElement("div",null,r.a.createElement("div",{id:"sign-in-widget"}))},T=a(157),H=a(158),B=a(162),D=a(161),M=function(){return r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"logo-font"},"Jokes ...... "),r.a.createElement("p",null,"A place to start your day.")))},F=a(101),P=a.n(F);P.a.initializeApp({apiKey:"AIzaSyBhFoXG47xjz4rhX7t9N805rvl5lXmBBis",authDomain:"jokes-95bd0.firebaseapp.com",databaseURL:"https://jokes-95bd0.firebaseio.com",projectId:"jokes-95bd0",storageBucket:"jokes-95bd0.appspot.com",messagingSenderId:"851183822439",appId:"1:851183822439:web:f7a68f074b814108b556c2",measurementId:"G-KQCHBK12GD"});var G=P.a;var X=function(e){var t=e.jokes,a=[];return t.slice(0,10).forEach((function(e){var n=Math.floor(Math.random()*t.length),l=t[n];a.push(r.a.createElement("div",{className:"feed_container"},r.a.createElement("p",null,l.joke)))})),r.a.createElement("div",{className:"feeds_Container"},a)},z=a(398),W=a(399),J=(Object(p.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.initialState,a=e.handleAddComment,n=(e.classes,e.OnClose),l=(e.props,r.a.useState(t)),o=Object(c.a)(l,2),i=o[0],s=o[1],u=r.a.useState(""),m=Object(c.a)(u,2),d=m[0],p=m[1],h=function(){s(!1),n(!1)};return r.a.createElement("div",null,r.a.createElement(f.a,{open:i,onClose:h,"aria-labelledby":"form-dialog-title"},r.a.createElement(E.a,{id:"form-dialog-title"},"Add Experience"),r.a.createElement(g.a,null,r.a.createElement(W.a,{id:"outlined-multiline-static",multiline:!0,rows:20,defaultValue:"Default Value",variant:"outlined",value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement(v.a,null,r.a.createElement(z.a,{onClick:function(){return h},color:"primary"},"Cancel"),r.a.createElement(z.a,{onClick:function(){return a(d)},color:"primary"},"Add"))))})),function(e){Object(B.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(T.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={showLoading:!0,jokes:null},e}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.props.FetchFeed((function(){return console.log("d")}))}},{key:"render",value:function(){var e=this.props.feedInfo.failure?r.a.createElement(N,{title:"Error",message:this.props.feedInfo.error,initialState:!0}):"";return r.a.createElement("div",{className:"home_Container"},!this.props.feedInfo.feed&&r.a.createElement(L,{showLoading:!0}),r.a.createElement(M,null),e,console.log("fe",this.props.feedInfo),this.props.feedInfo.feed&&r.a.createElement(X,{jokes:this.props.feedInfo.feed}))}}]),a}(n.Component)),q=Object(_.o)(Object(m.b)((function(e){return{feedInfo:e.Feed,showCommentBox:e.ExpReducer.showCommentBox}}),{FetchFeed:function(e){return function(e){var t=[];G.database().ref("value").on("value",(function(a){var n=function(e){return{type:"FETCH_SUCCESS",payload:e}}(t=a.val());return e(n)})),console.log("da",t)}},ShowAddExpSection:function(e){return{type:"SHOW_ADD_EXP_SECTION",payload:e}}})(J)),V=a(48),K=function(){var e=Object(V.useOktaAuth)(),t=e.authState,a=e.authService,l=Object(n.useState)(null),o=Object(c.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){t.isAuthenticated?a.getUser().then((function(e){s(e)})):s(null)}),[t,a]),i?r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h2",{className:"text-xs-center"},"Profile"),r.a.createElement("form",null,r.a.createElement("div",{className:"pro_Container"},r.a.createElement("div",null,r.a.createElement("div",{className:"label"},"User Name :"),r.a.createElement("div",null,i.name)),r.a.createElement("div",null,r.a.createElement("div",{className:"label"},"Email Address :"),r.a.createElement("div",null,i.email)),r.a.createElement("div",null,r.a.createElement("div",{className:"label"},"First Name :"),r.a.createElement("div",null,i.given_name)),r.a.createElement("div",null,r.a.createElement("div",{className:"label"},"Last Name :"),r.a.createElement("div",null,i.family_name))))):r.a.createElement("div",null,r.a.createElement(L,{showLoading:!0}))};var Q=a(102),Z=a.n(Q),$=a(159),Y=function(e){e.email,e.currentUser;var t=e.onLogutClick;return r.a.createElement("ul",{className:"nav navbar-nav pull-xs-right",style:{flexDirection:"row"}},r.a.createElement("li",{className:"nav-item home_nav"},r.a.createElement(i.Link,{to:"/react-day-experience-app",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.Link,{to:"/profile",className:"nav-link"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.Link,{onClick:t,className:"nav-link"},"Log Out")))},ee=function(){return r.a.createElement("ul",{className:"nav navbar-nav pull-xs-right",style:{flexDirection:"row"}},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.Link,{to:"/react-day-experience-app",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.Link,{to:"/login",className:"nav-link"},"Sign in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.Link,{to:"/register",className:"nav-link"},"Sign up")))},te=function(e){Object(_.k)();var t=function(){var e=Object($.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.logout("/login");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=Object(V.useOktaAuth)(),n=a.authState,l=a.authService,o=r.a.useState(null),s=Object(c.a)(o,2),u=s[0],m=s[1],d=r.a.useState(!1),p=Object(c.a)(d,2),f=p[0],E=p[1];return r.a.useEffect((function(){n.isAuthenticated?(E(!0),l.getUser().then((function(e){m(e)}))):(E(!1),m(null))}),[n,l]),r.a.createElement("nav",{className:"navbar navbar-light"},r.a.createElement("div",{className:"container"},r.a.createElement(i.Link,{to:"/react-day-experience-app",className:"navbar-brand"},"Jokes For the Day"),f&&u?r.a.createElement(Y,{onLogutClick:t}):r.a.createElement(ee,null)))};var ae=Object(_.o)(Object(m.b)((function(e){return{currentUser:e.LoginReducer.token,email:e.LoginReducer.email}}),{Logout:function(){return{type:"LOGOUT"}}})((function(e){var t=Object(_.k)();return r.a.createElement(V.Security,Object.assign({},I,{onAuthRequired:function(){t.push("/login")}}),r.a.createElement(te,{currentUser:e.currentUser,email:e.email,onLogutClick:function(){return e.Logout()}}),r.a.createElement(_.g,null,r.a.createElement(_.d,{path:"/",exact:!0,component:q}),r.a.createElement(_.d,{path:"/react-day-experience-app",exact:!0,component:q}),r.a.createElement(_.d,{path:"/register",component:e.currentUser?q:x}),r.a.createElement(_.d,{path:"/login",component:e.currentUser?q:A}),r.a.createElement(_.d,{path:"/profile",component:K}),r.a.createElement(_.d,{path:"/callback",component:V.LoginCallback})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ne=a(12),re={showErrorModal:!1,errorMessage:""},le={registrationSuccess:!1},oe={token:null,error:null,email:null},ce={showCommentBox:!1},ie={feed:null,error:null,failure:!1},se=a(37),ue=Object(se.c)({errorHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HTTP_ERROR":return Object(ne.a)(Object(ne.a)({},e),{},{showErrorModal:!0,errorMessage:t.payload});case"CLEAR_ERROR":return Object(ne.a)(Object(ne.a)({},e),{},{showErrorModal:!1,errorMessage:t.payload});default:return e}},registrationSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{registrationSuccess:!0});default:return e}},Feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUCCESS":return Object(ne.a)(Object(ne.a)({},e),{},{feed:t.payload,failure:!1});case"FETCH_FAILURE":return Object(ne.a)(Object(ne.a)({},e),{},{failure:!0,error:t.payload});default:return e}},LoginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Object(ne.a)(Object(ne.a)({},e),{},{token:t.token,email:t.email,error:t.error});case"CLEAR_LOGIN_ERROR":case"LOGOUT":return Object(ne.a)(Object(ne.a)({},e),{},{token:null,email:null,error:null});default:return e}},ExpReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ADD_EXP_SECTION":return Object(ne.a)(Object(ne.a)({},e),{},{showCommentBox:t.payload});default:return e}}}),me=a(160),de=function(e){e=JSON.parse(window.localStorage.getItem("state"))||e;var t=[me.a],a=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):se.d)(se.a.apply(void 0,t)),n=Object(se.e)(ue,e,a);return n.subscribe((function(){var e={LoginReducer:n.getState().LoginReducer};window.localStorage.setItem("state",JSON.stringify(e))})),n},pe=function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a;return r.a.createElement(m.a,{store:de(n)},t)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.BrowserRouter,null,r.a.createElement(pe,null,r.a.createElement(ae,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.e54c6087.chunk.js.map